<html>

<head>
    <meta charset='utf-8' />
    <title>Terremotos</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css' rel='stylesheet' />
    <link href='css/estilobase.css' rel='stylesheet' />
    <script src='js/utils.js'></script>
    <script src='js/terremotos.js'></script>
    <script>
        var map;
        function init() {

            mapboxgl.accessToken = "pk.eyJ1IjoicmNhc2Fub3ZhbGFyYSIsImEiOiJja3lpdml3bzMyZ2lhMnhwYmp3bjJrbzBnIn0.7yW7goRBvvDCc5s7hlOWgA";
            map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/dark-v10',
                center: [9.746, 40.473],
                zoom: 5.5,
                hash: true,
                pitch: 0,
                attributionControl: false
            });
            map.addControl(new mapboxgl.AttributionControl({
                compact: true
            }));
            map.addControl(new mapboxgl.NavigationControl());

            map.on("load", function () {

                generarPeticionTerremotos();

            }); // fin load mapa

            map.on("zoomend", function () {

                generarPeticionTerremotos();
                addPopupToMap("terremotos");
            });

            map.on("moveend", function () {

                generarPeticionTerremotos();
            });

        } //fin init

    </script>
</head>

<body onload="init()">
    <div id='map'></div>
</body>

</html>